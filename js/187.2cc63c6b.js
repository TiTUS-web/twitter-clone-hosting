"use strict";(self["webpackChunktwitter_clone_vue"]=self["webpackChunktwitter_clone_vue"]||[]).push([[187],{7187:(e,t,l)=>{l.r(t),l.d(t,{default:()=>J});var a=l(3673),s=l(8880),o=l(2323);const n={class:"q-py-lg q-px-md row items-end q-col-gutter-md"},i={class:"col"},d=(0,a._)("img",{src:"https://abs.twimg.com/sticky/default_profile_images/default_profile_400x400.png"},null,-1),c={class:"col col-shrink"},r=(0,a._)("img",{src:"https://abs.twimg.com/sticky/default_profile_images/default_profile_400x400.png"},null,-1),w=(0,a._)("strong",null,"User",-1),u={class:"text-grey-7"},m=(0,a.Uk)("   @user__dev • "),f=(0,a._)("br",{class:"lt-md"},null,-1),p={class:"tweet-icons row justify-between q-mt-sm"};function g(e,t,l,g,_,h){const k=(0,a.up)("q-avatar"),v=(0,a.up)("q-input"),y=(0,a.up)("q-btn"),b=(0,a.up)("q-separator"),W=(0,a.up)("q-item-section"),q=(0,a.up)("q-item-label"),C=(0,a.up)("q-item"),x=(0,a.up)("q-list"),T=(0,a.up)("q-scroll-area"),Z=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(Z,{class:"relative-position"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{class:"absolute full-width full-height"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",i,[(0,a.Wm)(v,{"bottom-slots":"",placeholder:"What's happening ?",modelValue:_.newTweetContent,"onUpdate:modelValue":t[0]||(t[0]=e=>_.newTweetContent=e),class:"new-tweet",counter:"",maxlength:"280",autogrow:""},{before:(0,a.w5)((()=>[(0,a.Wm)(k,{size:"xl"},{default:(0,a.w5)((()=>[d])),_:1})])),_:1},8,["modelValue"])]),(0,a._)("div",c,[(0,a.Wm)(y,{onClick:h.addNewTweet,unelevated:"",rounded:"",color:"primary",label:"Tweet",class:"q-mb-lg","no-caps":"",disable:!_.newTweetContent},null,8,["onClick","disable"])])]),(0,a.Wm)(b,{size:"5px",color:"grey-4",class:"divider"}),(0,a.Wm)(x,{separator:""},{default:(0,a.w5)((()=>[(0,a.Wm)(s.W3,{appear:"","enter-active-class":"animated fadeIn slowed","leave-active-class":"animated fadeOut slowed"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.tweets,(e=>((0,a.wg)(),(0,a.j4)(C,{key:e.id,class:"tweet q-py-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{avatar:"",top:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{size:"xl"},{default:(0,a.w5)((()=>[r])),_:1})])),_:1}),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,{class:"text-subtitle1"},{default:(0,a.w5)((()=>[w,(0,a._)("span",u,[m,f,(0,a.Uk)(" "+(0,o.zw)(h.relativeDate(e.date)||e.date),1)])])),_:2},1024),(0,a.Wm)(q,{class:"tweet-content text-body1"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.content),1)])),_:2},1024),(0,a._)("div",p,[(0,a.Wm)(y,{flat:"",round:"",color:"grey",size:"sm",icon:"far fa-comment"}),(0,a.Wm)(y,{flat:"",round:"",color:"grey",size:"sm",icon:"fas fa-retweet"}),(0,a.Wm)(y,{flat:"",round:"",size:"sm",onClick:t=>h.toggleLiked(e),icon:e.liked?"fas fa-heart":"far fa-heart",color:e.liked?"pink":"grey"},null,8,["onClick","icon","color"]),(0,a.Wm)(y,{flat:"",round:"",color:"grey",size:"sm",icon:"fas fa-trash",onClick:t=>h.deleteTweet(e)},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}var _=l(4167),h=l(2490),k=l(8064);const v={name:"PageHome",data(){return{newTweetContent:"",tweets:[]}},methods:{relativeDate(e){return(0,_.Z)(e,new Date)},async deleteTweet(e){await(0,k.oe)((0,k.JU)(h["default"],"tweets",e.id))},async addNewTweet(){let e={content:this.newTweetContent,date:Date.now(),liked:!1};const t=await(0,k.ET)((0,k.hJ)(h["default"],"tweets"),e);console.log("Document written with ID: ",t.id),this.newTweetContent=""},async toggleLiked(e){const t=(0,k.JU)(h["default"],"tweets",e.id);await(0,k.r7)(t,{liked:!e.liked})}},mounted(){const e=(0,k.IO)((0,k.hJ)(h["default"],"tweets"));(0,k.cf)(e,(e=>{e.docChanges().forEach((e=>{let t=e.doc.data();if(t.id=e.doc.id,"added"===e.type&&(console.log("New tweet: ",t),this.tweets.unshift(t)),"modified"===e.type){console.log("Modified tweet: ",t);let e=this.tweets.findIndex((e=>e.id===t.id));Object.assign(this.tweets[e],t)}if("removed"===e.type){console.log("Removed tweet: ",t);let e=this.tweets.findIndex((e=>e.id===t.id));this.tweets.splice(e,1)}}))}))}};var y=l(4260),b=l(4379),W=l(7704),q=l(6112),C=l(5096),x=l(4607),T=l(5869),Z=l(7011),Q=l(3414),z=l(2035),I=l(2350),D=l(7518),U=l.n(D);const j=(0,y.Z)(v,[["render",g]]),J=j;U()(v,"components",{QPage:b.Z,QScrollArea:W.Z,QInput:q.Z,QAvatar:C.Z,QBtn:x.Z,QSeparator:T.Z,QList:Z.Z,QItem:Q.Z,QItemSection:z.Z,QItemLabel:I.Z})}}]);